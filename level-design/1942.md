# 1942

## Game Type
Vertical scrolling shooter

## Core Mechanics
- **Goal**: Survive wave-based enemy attacks and achieve the highest score. A boss spawns at score thresholds.
- **Movement**: Player aircraft moves freely in all four directions within the bottom ~70% of the screen.
- **Key interactions**: Auto-fire by holding Space, dodge roll on Shift or double-tap Space, collect power-ups dropped by enemies.

## Controls
- Arrow keys: move player
- Space (hold): fire bullets
- Space (double-tap) or Shift: barrel roll (invincibility frames, 40-frame duration, 90-frame cooldown)

## Difficulty Progression

### Structure
The game is wave-based. When all enemies in a wave are destroyed, a 60-frame pause triggers, then the next wave spawns. `waveNumber` increments each wave. Waves cycle through 5 formations: v, line, stagger, circle, diagonal. A boss spawns whenever `score >= bossSpawnScore` (starting at 300), then the threshold rises by `400 + waveNumber * 50`.

### Key Difficulty Variables
- `waveNumber`: starts at 0, increments every wave (no cap on scaling). Used in nearly all difficulty formulas.
- `count` (enemies per wave): starts at `4 + Math.min(Math.floor(diff / 2), 6)`, so waves 1-2 spawn 4 enemies, caps at 10 enemies by wave 12.
- `baseSpeed` (enemy movement speed): `1.5 + diff * 0.1` where `diff = Math.min(waveNumber, 20)`. Starts at ~1.6 px/frame, reaches ~3.5 at wave 20.
- `fireRate` (enemy fire interval, in frames): `Math.max(40, 150 - diff * 8)`. Starts at 142 frames (~2.4s), reaches minimum 40 frames (~0.67s) by wave ~14.
- Enemy types unlocked: fighters from wave 1, bombers from wave 3 (`diff >= 3`), aces from wave 6 (`diff >= 6`).
- Boss HP: `25 + waveNumber * 5`. First boss spawns at score 300 and has at least 30 HP.
- `ENEMY_BULLET_SPEED`: base 3, increases by `waveNumber * 0.05` per bullet (non-boss enemies) and `waveNumber * 0.1` for boss spread shots.
- `bossSpawnScore`: starts at 300, increases by `400 + waveNumber * 50` after each boss.
- Power-up drop chance: 15% per enemy death (fixed).
- Power-up durations: `doubleShot` lasts 600 frames (~10s), `speedBoost` lasts 480 frames (~8s).

### Difficulty Curve Assessment
The first boss arrives extremely early â€” at only 300 points, which is just 30 fighter kills. A new player will likely face the boss within the first 2-3 waves before they understand the controls. Enemy fire rate also ramps aggressively, halving from wave 1 to wave 14, making mid-game feel punishing.

## Suggested Improvements
- [ ] Increase `bossSpawnScore` from 300 to 800 to give players 4-6 waves of normal enemies before the first boss encounter.
- [ ] Raise initial `baseSpeed` formula from `1.5 + diff * 0.1` to a softer start: `1.2 + diff * 0.08`, so wave 1 enemies move at 1.28 instead of 1.6.
- [ ] Raise minimum enemy fire rate cap from 40 frames to 60 frames, reducing late-game bullet density.
- [ ] Increase power-up drop chance from 15% to 20% for the first 5 waves to help new players survive early.
- [ ] Delay bomber and ace introduction: unlock bombers at `diff >= 5` and aces at `diff >= 9` (currently 3 and 6 respectively).
- [ ] Add a short (2s) invincibility window after losing a life instead of only providing invincibility during a roll.
