# Lights Out

## Game Type
Logic puzzle — toggle lights on a grid to turn them all off

## Core Mechanics
- **Goal**: Turn all lights off on a 5x5 grid
- **Movement**: No movement — cursor-based selection only
- **Key interactions**: Clicking a cell toggles that cell and all 4 orthogonal neighbors; puzzle is generated by applying N random toggles to a solved (all-off) board, guaranteeing a solution exists

## Controls
- Mouse click on any cell to toggle it and its neighbors
- Must solve within `getMaxClicks(lvl)` clicks or lose

## Difficulty Progression

### Structure
Infinite level progression. Each completed level increments `level` by 1, increasing both puzzle complexity (more scramble toggles) and the click budget.

### Key Difficulty Variables

| Variable | Formula | Level 1 | Level 5 | Level 13 |
|---|---|---|---|---|
| `toggles` (scramble depth) | `min(2 + lvl, 15)` | 3 | 7 | 15 (cap) |
| `maxClicks` (budget) | `max(toggles * 3, 15)` | 15 | 21 | 45 |
| Score per level | `level * 1000 - clicks * 50`, min `level * 100` | 1000–950 | 5000–4750 | 13000–12350 |

Grid is always `GRID = 5` (5×5), `CELL = 60` px. No grid size scaling.

### Difficulty Curve Assessment
Level 1 starts with only 3 scramble toggles on a 5x5 grid — extremely easy, often solvable in 1–3 clicks. The jump from level 1 (3 toggles) to level 5 (7 toggles) is steep in terms of puzzle complexity because toggle interactions are non-linear: 7 scramble steps create patterns far harder than twice the complexity of 3 steps. The `maxClicks` budget of `toggles * 3` is generous at low levels (15 clicks for 3-toggle puzzle) but may feel tight at level 13+ (45 clicks for a maximally scrambled board). The cap at 15 toggles means all levels above 13 are identical in difficulty — the game loses progression. There is no tutorial explaining the toggle-neighbor mechanic, which causes level 1 to feel confusing despite being mathematically trivial.

## Suggested Improvements
- [ ] Increase starting scramble depth to 5 toggles (change `min(2 + lvl, 15)` to `min(4 + lvl, 15)`) so level 1 presents a genuinely interesting puzzle rather than a near-trivial 3-toggle board
- [ ] Raise the toggle cap from 15 to 20 (change `min(2 + lvl, 15)` to `min(2 + lvl, 20)`) so progression continues meaningfully through level 18 instead of plateauing at level 13
- [ ] Tighten the click budget at low levels to add urgency: change `max(toggles * 3, 15)` to `max(toggles * 2 + 5, 12)` so level 1 gives 15 clicks but level 7 gives only 19 instead of 21
- [ ] Add a "hint" system that highlights one correct next move, consumed once per level, to help new players understand the toggle mechanic without making the puzzle trivial
- [ ] Consider adding a 6x6 grid at level 10+ by changing `GRID = 5` conditionally to `GRID = level >= 10 ? 6 : 5`, creating a meaningful structural difficulty jump
- [ ] Show the number of scramble toggles used ("Puzzle depth: 7") after each level to give players a sense of what made the puzzle harder
